<div class="row">
    <div class="col-sm" style="padding-top:35px">
        <form class="center" *ngIf="usertype=='ADMIN'" style="width:300px;">
			<label>Visualizza DataSet dell'utente</label>
			<select name="idUtVis" (change)="caricaDS($event.target.value)">
				<option *ngFor="let c of utList" [value]="c.id" [selected]="c.id==utId">{{c.username}}</option>
            </select>
        </form>
        <ng-container *ngIf="(nDS!=undefined && nDS.length>0); else noDS">
            <div class="centraDiv" *ngFor="let nd of nDS">
                <div class="newCat">
                    <div class="divCRUD" style="width:20%;" *ngIf="nd.utente==utId">
                        <a href="" ><div class="linkCRUD">Modifica</div></a>
                        <a href="" onclick=""><div class="linkCRUD">Elimina</div></a>
                    </div>
                    <h1>{{nd.categoriaN}}</h1>
                </div>
                <br>
                <div class="table marginBot">
                    <div *ngFor="let dto of dtoList;">
                        <div *ngIf="dto.categoria==nd.categoria">
                            <div class="cols">
                                <div class="th">
                                    {{dto.unitaMisuraN}}
                                    <div class="btnComm toltip" *ngIf="dto.commento!=''">
                                        <img src="../../assets/comm.png"/>
                                        <span class="toltiptext">
                                            <p> {{dto.commento}} </p>
                                        </span>
                                    </div>
                                </div>
                                <div *ngFor="let val of dto.valore.split('_');let i = index" [ngClass]="( i%2 == 0) ? 'tr grey' : 'tr white'">
                                    {{val}}
                                </div>
                                
                            </div>
                        </div>
                    </div>    
                </div>
            </div>
        </ng-container>
        <ng-template #noDS>
            <div class="noDS">
                <h1>Nessun DataSet creato!</h1>
            </div>
        </ng-template>

    </div>
    <div class="col-sm">
        <div class="centraDiv">
            
            <h1>Crea nuovo DataSet</h1>
            <br>
            <form style="min-width:270px" [formGroup]="createForm" (ngSubmit)="createDS(createForm.value)">
                <label><strong>Categoria</strong></label>
                <select formControlName="cat" required>
                    <option value="" style="color:grey">Scegli una categoria</option>
                    <option *ngFor="let c of catList" [value]="c.id">{{c.nome}}</option>
                </select>
                <label style="margin-top:5px"><strong>Unit√† di misura:</strong></label>
                <br>
                <select formControlName="ump" required>
                    <option value="" style="color:grey">Primo set di valori</option>
                    <option *ngFor="let c of umList" [value]="c.id">{{c.nome}}</option>
                </select>
                <select formControlName="ums" required>
                    <option value="" style="color:grey">Secondo set di valori</option>
                    <option *ngFor="let c of umList" [value]="c.id">{{c.nome}}</option>
                </select>
                <button type="submit">Crea</button>
            </form>

        </div>
    </div>
</div>